(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{41:function(e,t,n){e.exports=n(72)},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},67:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),l=n.n(o),c=(n(46),n(3)),i=n(4),u=n(6),s=n(5),m=(n(17),n(47),n(25),n(48),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("select",{onChange:this.props.onNewElem,id:"new_element",className:"selectElement"},r.a.createElement("option",{value:"none"},"Add Text Element"),r.a.createElement("option",{value:"h1"},"Heading"),r.a.createElement("option",{value:"p"},"Paragraph"),r.a.createElement("option",{value:"a"},"Link")),r.a.createElement("select",{onChange:this.props.onNewElem,id:"new_element",className:"selectElement"},r.a.createElement("option",{value:"none"},"Add Image/Video"),r.a.createElement("option",{value:"video"},"Video"),r.a.createElement("option",{value:"img"},"Image")),r.a.createElement("button",{className:"selectElement"},r.a.createElement("span",{className:"fa fa-bug"}),"Report bugs"))}}]),n}(a.Component)),p=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Footer Component"))}}]),n}(a.Component),d=n(14),E=n(15),y=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WEB_PREVIEW":return[{webPreview:t.payload}];case"DELETE_WEB_PREVIEW":return e.filter((function(e){return e.element!==t.payload}));case"CREATE_WEB_PREVIEW":return[].concat(Object(E.a)(e),[{webPreview:t.payload}]);default:return[{webPreview:e}]}},v=n(18),h=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WEB_ELEMENT":return e.map((function(e){return e.state.props.id===t.payload.id?Object(v.a)(e,(function(e){e.state.props.children[0].props.children=t.payload.text})):e}));case"UPDATE_STYLING":return e.map((function(e){return e.state.props.id===t.payload.id?Object(v.a)(e,(function(e){e.state.props.children[0].props.style[t.payload.styleProp]="".concat(t.payload.styleValue).concat(t.payload.unit)})):e}));case"DELETE_WEB_ELEMENT":return e.filter((function(e){return e.state.props.id!==t.payload}));case"CREATE_WEB_ELEMENT":return[].concat(Object(E.a)(e),[{state:t.payload}]);default:return e}},b=Object(d.a)({webPreview:f,web:g}),w=Object(d.b)(b,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function x(e){w.dispatch({type:"UPDATE_WEB_PREVIEW",payload:e})}function N(e){w.dispatch({type:"DELETE_WEB_ELEMENT",payload:e})}function O(e){w.dispatch({type:"UPDATE_WEB_ELEMENT",payload:e})}function k(e){w.dispatch({type:"CREATE_WEB_ELEMENT",payload:e})}function j(e,t){var n="wrapper:".concat(document.getElementById("id").value);if(null!==document.getElementById(n)){var a,r=e,o=document.getElementById(e).value;a={id:n,styleProp:r,styleValue:o,unit:t},w.dispatch({type:"UPDATE_STYLING",payload:a})}else alert("please click on the HTML element to style it !!")}var T=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return"true"===this.props.isDropDownMenu?r.a.createElement("div",{className:"property"},r.a.createElement("select",{id:this.props.name,onChange:function(){return j(e.props.name,e.props.unit)}},this.props.items.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),this.props.text):r.a.createElement("div",{className:"property"},r.a.createElement("input",{type:this.props.type,id:this.props.name,className:"style-input",onChange:function(){return j(e.props.name,e.props.unit)}}),r.a.createElement("span",null,this.props.text))}}]),n}(a.Component),B=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.screen.width<400&&(document.getElementById("content").style["flex-wrap"]="wrap",document.getElementById("content").style["flex-direction"]="column")}},{key:"render",value:function(){return r.a.createElement("div",{className:"content",id:"content"},r.a.createElement("div",{className:"styling",id:"styling"},r.a.createElement("div",{style:{textAlign:"center"},className:"style-heading"},r.a.createElement("h2",null,"Style")),r.a.createElement(T,{name:"id",type:"hidden",text:"ID",unit:""}),r.a.createElement(T,{name:"backgroundColor",type:"color",text:"Background Color",unit:""}),r.a.createElement(T,{name:"borderColor",type:"color",text:"Border Color",unit:""}),r.a.createElement(T,{name:"borderRadius",type:"number",text:"Border Radius",unit:"px"}),r.a.createElement(T,{name:"borderStyle",isDropDownMenu:"true",items:["solid","dotted"],type:"text",text:"Border Style",unit:""}),r.a.createElement(T,{name:"borderWidth",type:"number",text:"Border Width",unit:"px"}),r.a.createElement(T,{name:"color",type:"color",text:"Color",unit:""}),r.a.createElement(T,{name:"fontSize",type:"number",text:"Font Size",unit:"px"}),r.a.createElement("div",{className:"property"},r.a.createElement("details",null,r.a.createElement("summary",null,"margin"),r.a.createElement(T,{name:"marginTop",type:"number",text:"Margin Top",unit:"px"}),r.a.createElement(T,{name:"marginBottom",type:"number",text:"Margin bottom",unit:"px"}),r.a.createElement(T,{name:"marginLeft",type:"number",text:"Margin Left",unit:"px"}),r.a.createElement(T,{name:"marginRight",type:"number",text:"Margin Right",unit:"px"}))),r.a.createElement("div",{className:"property"},r.a.createElement("details",null,r.a.createElement("summary",null,"Padding"),r.a.createElement(T,{name:"paddingTop",type:"number",text:"Padding Top",unit:"px"}),r.a.createElement(T,{name:"paddingBottom",type:"number",text:"Padding Bottom",unit:"px"}),r.a.createElement(T,{name:"paddingLeft",type:"number",text:"Padding Left",unit:"px"}),r.a.createElement(T,{name:"paddingRight",type:"number",text:"Padding Right",unit:"px"}))),r.a.createElement(T,{name:"textAlign",isDropDownMenu:"true",items:["left","center","right","justify"],type:"text",text:"Text Align",unit:""}),r.a.createElement("br",null)),r.a.createElement("div",{id:"web"},w.getState().web.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},e.state)}))))}}]),n}(a.Component),_=n(13),C=n.n(_),I=n(20),S=n(21),P=n.n(S),L=new function e(){Object(c.a)(this,e),this.login=function(){var e=Object(I.a)(C.a.mark((function e(t,n){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.a.create(),e.next=3,a.post("http://localhost:4000/login",{username:t,password:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.logout=function(e){localStorage.removeItem("authorization"),e()},this.save=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.a.create({headers:{authorization:t}}),e.next=3,n.post("http://127.0.0.1:4000/save",{web:w.getState().webPreview[0].webPreview[0]});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).newElement=function(t){if("none"!==t){var n=Math.random(),a=r.a.createElement(t,{id:n,className:"web-element",style:{width:"100%"},onClick:e.addToStyling},"New Element");k(r.a.createElement("div",{className:"new-element-wrapper",id:"wrapper:"+n},a,r.a.createElement("div",{style:{display:"none",width:"100%"},id:"edit-box:".concat(n),className:"temporary-elements"},r.a.createElement("textarea",{id:"text-area:".concat(n),className:"web-text-area"}),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(t){return e.saveNewText(n)}},"Save")),r.a.createElement("button",{className:"badge btn-outline-secondary"},r.a.createElement("span",{className:"fa fa-edit fa-lg temporary-elements",onClick:function(t){return e.editText(n)}})),r.a.createElement("button",{className:"badge btn-outline-danger"},r.a.createElement("span",{className:"fa fa-trash fa-lg temporary-elements",onClick:function(t){return e.beforeElementDeletion(n)}})))),document.querySelector("#new_element").value="none"}},e.beforeElementDeletion=function(t){"none"!==document.getElementById("text-area:"+t).style.display&&e.saveNewText(t),N("wrapper:"+t)},e.addToStyling=function(e){document.getElementById("id").value=e.target.id,Array.from(document.getElementsByClassName("new-element-wrapper")).forEach((function(t){return t.id==="wrapper:".concat(e.target.id)?t.style.background="rgba(154, 218, 218, 0.829)":t.style.background="white"}))},e.editText=function(e){document.getElementById("edit-box:"+e).style.display="block";var t=document.getElementById(e);document.getElementById("text-area:"+e).value=t.innerHTML,t.style.display="none"},e.saveNewText=function(e){document.getElementById(e).style.display="block",O({id:"wrapper:"+e,text:document.getElementById("text-area:"+e).value}),document.getElementById("edit-box:"+e).style.display="none"},e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){localStorage.getItem("authorization")||console.log("you have not logged in")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-container",id:"main-container"},r.a.createElement(m,{onWebPreview:function(){return e.webPreview()},onLogout:function(){return L.logout((function(){return e.props.history.push("/")}))},onNewElem:function(){return e.newElement(document.querySelector("#new_element").value)}}),r.a.createElement(B,null),r.a.createElement(p,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=n(1),M=n(40),A=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:null,password:null,msgFromServer:null},e.onLogin=function(){L.login(e.state.username,e.state.password).then((function(t){"password incorrect"===t.data?e.setState({msgFromServer:t.data}):(localStorage.setItem("authorization","bearer "+t.data.accessToken),e.props.history.push("/"))}))},e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){localStorage.getItem("authorization")&&this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Landing Page"),r.a.createElement("p",null,this.state.msgFromServer),r.a.createElement("input",{type:"text",onChange:function(t){return e.setState({username:t.target.value})},name:"username",placeholder:"User Name"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",onChange:function(t){return e.setState({password:t.target.value})},name:"username",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.onLogin},"Login"))}}]),n}(a.Component);var R=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page Not Found"))},U=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=w.getState().webPreview[0].webPreview.map((function(e){return e}));document.getElementById("web-preview").innerHTML=e,Array.from(document.getElementsByClassName("temporary-elements")).map((function(e){return e.remove()})),Array.from(document.getElementsByClassName("new-element-wrapper")).forEach((function(e){return e.style.background="white"}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"web-preview"}))}}]),n}(a.Component),V=(n(67),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).saveChanges=function(){x([document.getElementById("web").innerHTML])},e.navigate=function(t){null!==document.getElementById("web")&&e.saveChanges(),e.props.history.push(t)},e}return Object(i.a)(n,[{key:"saveWeb",value:function(){L.save(localStorage.getItem("authorization")).then((function(e){return console.log(e.data)}))}},{key:"componentDidMount",value:function(){window.screen.width<550&&(document.getElementById("header").style.flexDirection="column-reverse",Array.from(document.getElementById("header").children).forEach((function(e){return e.style.width="100%"})))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"header",id:"header"},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"btn btn-info btn-sm",onClick:function(){return e.navigate("/preview")}},r.a.createElement("span",{className:"fa fa-eye fa-md"}),"Preview"),r.a.createElement("div",{className:"btn btn-primary btn-sm",onClick:function(){return e.navigate("/")}},r.a.createElement("span",{className:"fa fa-eye-slash fa-md"}),"Workspace"),r.a.createElement("div",{className:"btn btn-success btn-sm",onClick:this.saveWeb},r.a.createElement("span",{className:"fa fa-save fa-md"}),"Save")),r.a.createElement("div",{className:"sign-out-link"},r.a.createElement("span",{className:"greeting"},r.a.createElement("span",null,"Hi User")),r.a.createElement("span",{className:"sign-out"},r.a.createElement("div",{className:"btn btn-secondary btn-sm",onClick:function(){return localStorage.removeItem("authorization")}},r.a.createElement("span",{className:"fa fa-sign-out fa-md "}),"Sign out"))))}}]),n}(a.Component));function z(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/login",component:A}),r.a.createElement(W.a,{path:"/",component:F})))}function F(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{path:"/",component:V}),r.a.createElement(W.c,null,r.a.createElement(W.a,{exact:!0,path:"/",component:D}),r.a.createElement(W.a,{exact:!0,path:"/preview",component:U}),r.a.createElement(W.a,{exact:!0,path:"**",component:R})))}var H=function(){l.a.render(r.a.createElement(M.a,null,r.a.createElement(z,null)),document.getElementById("root"))};H(),w.subscribe(H),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.f3a3c522.chunk.js.map