{"ast":null,"code":"var _jsxFileName = \"/home/phillip/Public/react-app/src/components/landingPage/landingPage.js\";\nimport React, { Component } from 'react';\nimport auth from '../authentication/auth';\nimport * as actions from '../../reduxState/actions';\n\nclass LandingPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: null,\n      password: null,\n      msgFromServer: null\n    };\n\n    this.onLogin = () => {\n      auth.login(this.state.username, this.state.password).then(res => {\n        if (res.data === 'password incorrect') this.setState({\n          msgFromServer: res.data\n        });else {\n          localStorage.setItem('authorization', 'bearer ' + res.data.accessToken);\n          actions.updateUser(res.data.username);\n          this.props.history.push('/');\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('authorization')) this.props.history.push('/');\n  }\n\n  myFunc() {\n    socket.emit('chat message', 'username', \"my message\");\n    socket.on('server to client', function (name, msg) {\n      var newMsg = document.createElement('li');\n      newMsg.innerHTML = name + ':' + msg; //del.innerHTML = '<input type=\"button\">';\n\n      messages.appendChild(newMsg);\n      textbox.value = '';\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, \"Landing Page\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, this.state.msgFromServer), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: e => this.setState({\n        username: e.target.value\n      }),\n      name: \"username\",\n      placeholder: \"User Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      name: \"username\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.myFunc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, \"Send Msg\"));\n  }\n\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["/home/phillip/Public/react-app/src/components/landingPage/landingPage.js"],"names":["React","Component","auth","actions","LandingPage","state","username","password","msgFromServer","onLogin","login","then","res","data","setState","localStorage","setItem","accessToken","updateUser","props","history","push","componentDidMount","getItem","myFunc","socket","emit","on","name","msg","newMsg","document","createElement","innerHTML","messages","appendChild","textbox","value","render","e","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport auth from '../authentication/auth';\r\nimport * as actions from '../../reduxState/actions';\r\n\r\n\r\nclass LandingPage extends Component {\r\n    state = {\r\n        username: null,\r\n        password: null,\r\n        msgFromServer: null\r\n    }\r\n\r\n    onLogin = () => {\r\n        auth.login(this.state.username, this.state.password)\r\n            .then(res => {\r\n                if (res.data === 'password incorrect')\r\n                    this.setState({ msgFromServer: res.data })\r\n                else {\r\n                    localStorage.setItem('authorization', 'bearer ' + res.data.accessToken);\r\n                    actions.updateUser(res.data.username);\r\n                    this.props.history.push('/');\r\n                }\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (localStorage.getItem('authorization'))\r\n            this.props.history.push('/')\r\n    }\r\n\r\n    myFunc() {\r\n        socket.emit('chat message', 'username', \"my message\");\r\n\r\n        socket.on('server to client', function (name, msg) {\r\n            var newMsg = document.createElement('li');\r\n            newMsg.innerHTML = name + ':' + msg;\r\n            //del.innerHTML = '<input type=\"button\">';\r\n            messages.appendChild(newMsg);\r\n            textbox.value = '';\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Landing Page</h2>\r\n                <p>{this.state.msgFromServer}</p>\r\n                <input type='text' onChange={(e) => this.setState({ username: e.target.value })} name='username' placeholder='User Name' />\r\n                <br />\r\n                <input type='password' onChange={(e) => this.setState({ password: e.target.value })} name='username' placeholder='Password' />\r\n                <br />\r\n                <button onClick={this.onLogin}>Login</button>\r\n                <button onClick={this.myFunc}>Send Msg</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LandingPage;"]},"metadata":{},"sourceType":"module"}