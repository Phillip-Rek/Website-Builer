{"ast":null,"code":"import _classCallCheck from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import auth from'../authentication/auth';var LandingPage=/*#__PURE__*/function(_Component){_inherits(LandingPage,_Component);var _super=_createSuper(LandingPage);function LandingPage(){var _this;_classCallCheck(this,LandingPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:null,password:null,msgFromServer:null};_this.onLogin=function(){auth.login(_this.state.username,_this.state.password).then(function(res){if(res.data==='password incorrect')_this.setState({msgFromServer:res.data});else{localStorage.setItem('authorization','bearer '+res.data.accessToken);_this.props.history.push('/');}});};return _this;}_createClass(LandingPage,[{key:\"componentWillMount\",value:function componentWillMount(){if(localStorage.getItem('authorization'))this.props.history.push('/');}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Landing Page\"),/*#__PURE__*/React.createElement(\"p\",null,this.state.msgFromServer),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(e){return _this2.setState({username:e.target.value});},name:\"username\",placeholder:\"User Name\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:function onChange(e){return _this2.setState({password:e.target.value});},name:\"username\",placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onLogin},\"Login\"));}}]);return LandingPage;}(Component);export default LandingPage;","map":{"version":3,"sources":["/home/phillip/Public/react-app/src/components/landingPage/landingPage.jsx"],"names":["React","Component","auth","LandingPage","state","username","password","msgFromServer","onLogin","login","then","res","data","setState","localStorage","setItem","accessToken","props","history","push","getItem","e","target","value"],"mappings":"okBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,C,GAEMC,CAAAA,W,+UACFC,K,CAAQ,CACJC,QAAQ,CAAE,IADN,CAEJC,QAAQ,CAAE,IAFN,CAGJC,aAAa,CAAE,IAHX,C,OAMRC,O,CAAU,UAAM,CACZN,IAAI,CAACO,KAAL,CAAW,MAAKL,KAAL,CAAWC,QAAtB,CAAgC,MAAKD,KAAL,CAAWE,QAA3C,EACKI,IADL,CACU,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,IAAJ,GAAa,oBAAjB,CACI,MAAKC,QAAL,CAAc,CAAEN,aAAa,CAAEI,GAAG,CAACC,IAArB,CAAd,EADJ,IAEK,CACDE,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsC,UAAYJ,GAAG,CAACC,IAAJ,CAASI,WAA3D,EACA,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACH,CACJ,CARL,EASH,C,sGAEoB,CACjB,GAAIL,YAAY,CAACM,OAAb,CAAqB,eAArB,CAAJ,CACI,KAAKH,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACP,C,uCAEQ,iBACL,mBACI,4CACI,6CADJ,cAEI,6BAAI,KAAKf,KAAL,CAAWG,aAAf,CAFJ,cAGI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAE,kBAACc,CAAD,QAAO,CAAA,MAAI,CAACR,QAAL,CAAc,CAAER,QAAQ,CAAEgB,CAAC,CAACC,MAAF,CAASC,KAArB,CAAd,CAAP,EAA7B,CAAiF,IAAI,CAAC,UAAtF,CAAiG,WAAW,CAAC,WAA7G,EAHJ,cAII,8BAJJ,cAKI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,kBAACF,CAAD,QAAO,CAAA,MAAI,CAACR,QAAL,CAAc,CAAEP,QAAQ,CAAEe,CAAC,CAACC,MAAF,CAASC,KAArB,CAAd,CAAP,EAAjC,CAAqF,IAAI,CAAC,UAA1F,CAAqG,WAAW,CAAC,UAAjH,EALJ,cAMI,8BANJ,cAOI,8BAAQ,OAAO,CAAE,KAAKf,OAAtB,UAPJ,CADJ,CAWH,C,yBApCqBP,S,EAuC1B,cAAeE,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport auth from '../authentication/auth';\r\n\r\nclass LandingPage extends Component {\r\n    state = {\r\n        username: null,\r\n        password: null,\r\n        msgFromServer: null\r\n    }\r\n\r\n    onLogin = () => {\r\n        auth.login(this.state.username, this.state.password)\r\n            .then(res => {\r\n                if (res.data === 'password incorrect')\r\n                    this.setState({ msgFromServer: res.data })\r\n                else {\r\n                    localStorage.setItem('authorization', 'bearer ' + res.data.accessToken)\r\n                    this.props.history.push('/');\r\n                }\r\n            })\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (localStorage.getItem('authorization'))\r\n            this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h2>Landing Page</h2>\r\n                <p>{this.state.msgFromServer}</p>\r\n                <input type='text' onChange={(e) => this.setState({ username: e.target.value })} name='username' placeholder='User Name' />\r\n                <br />\r\n                <input type='password' onChange={(e) => this.setState({ password: e.target.value })} name='username' placeholder='Password' />\r\n                <br />\r\n                <button onClick={this.onLogin}>Login</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LandingPage;"]},"metadata":{},"sourceType":"module"}