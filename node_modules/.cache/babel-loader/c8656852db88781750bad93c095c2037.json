{"ast":null,"code":"import _regeneratorRuntime from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import axios from'axios';import store from'../../reduxState/store';var Auth=function Auth(){_classCallCheck(this,Auth);this.login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username,password){var api,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:api=axios.create();_context.next=3;return api.post('http://localhost:4000/login',{username:username,password:password});case 3:res=_context.sent;return _context.abrupt(\"return\",res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();this.logout=function(callback){localStorage.removeItem('authorization');callback();};this.save=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token){var api,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:api=axios.create({headers:{authorization:token}});_context2.next=3;return api.post('http://127.0.0.1:4000/save',{web:store.getState().webPreview[0].webPreview[0]});case 3:response=_context2.sent;return _context2.abrupt(\"return\",response);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref2.apply(this,arguments);};}();};export default new Auth();","map":{"version":3,"sources":["/home/phillip/Public/react-app/src/components/authentication/auth.js"],"names":["axios","store","Auth","login","username","password","api","create","post","res","logout","callback","localStorage","removeItem","save","token","headers","authorization","web","getState","webPreview","response"],"mappings":"8bAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,C,GAEMC,CAAAA,I,CACF,eAAc,4BACV,KAAKC,KAAL,0FAAa,iBAAOC,QAAP,CAAiBC,QAAjB,8HACHC,GADG,CACGN,KAAK,CAACO,MAAN,EADH,uBAEOD,CAAAA,GAAG,CAACE,IAAJ,CAAS,6BAAT,CAAwC,CAAEJ,QAAQ,CAARA,QAAF,CAAYC,QAAQ,CAARA,QAAZ,CAAxC,CAFP,QAELI,GAFK,+CAGFA,GAHE,wDAAb,mEAMA,KAAKC,MAAL,CAAc,SAACC,QAAD,CAAc,CACxBC,YAAY,CAACC,UAAb,CAAwB,eAAxB,EACAF,QAAQ,GACX,CAHD,CAKA,KAAKG,IAAL,2FAAY,kBAAOC,KAAP,uIACFT,GADE,CACIN,KAAK,CAACO,MAAN,CAAa,CAAES,OAAO,CAAE,CAAEC,aAAa,CAAEF,KAAjB,CAAX,CAAb,CADJ,wBAEaT,CAAAA,GAAG,CAACE,IAAJ,CAAS,4BAAT,CACjB,CACIU,GAAG,CAAEjB,KAAK,CAACkB,QAAN,GAAiBC,UAAjB,CAA4B,CAA5B,EAA+BA,UAA/B,CAA0C,CAA1C,CADT,CADiB,CAFb,QAEJC,QAFI,iDAMDA,QANC,0DAAZ,iEAQH,C,CAGL,cAAe,IAAInB,CAAAA,IAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\n\r\nimport store from '../../reduxState/store';\r\n\r\nclass Auth {\r\n    constructor() {\r\n        this.login = async (username, password) => {\r\n            const api = axios.create()\r\n            let res = await api.post('http://localhost:4000/login', { username, password })\r\n            return res;\r\n        }\r\n\r\n        this.logout = (callback) => {\r\n            localStorage.removeItem('authorization');\r\n            callback();\r\n        }\r\n\r\n        this.save = async (token) => {\r\n            const api = axios.create({ headers: { authorization: token } })\r\n            let response = await api.post('http://127.0.0.1:4000/save',\r\n                {\r\n                    web: store.getState().webPreview[0].webPreview[0]\r\n                })\r\n            return response;\r\n        }\r\n    }\r\n}\r\n\r\nexport default new Auth();\r\n"]},"metadata":{},"sourceType":"module"}