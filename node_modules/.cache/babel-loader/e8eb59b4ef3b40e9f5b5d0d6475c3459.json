{"ast":null,"code":"import _classCallCheck from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/phillip/Public/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'bootstrap/dist/css/bootstrap.css';//import 'font-awesome/css/font-awesome.min.css';\nimport'./App.css';import Header from'../header/header';import Footer from'../footer/footer';import Content from'../content/content';import auth from'../authentication/auth';import*as actions from'../../reduxState/actions';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.newElement=function(tag){if(tag==='none')return;var id=Math.random();var newE=React.createElement(tag,{id:id,className:'web-element',style:{width:'100%'},onClick:_this.addToStyling},'New Element');/*Each element will have its own hidden texarea hidden below it \n    and it will be wrapped around a div with className: new-element-wrapper*/var newEWithEditBox=/*#__PURE__*/React.createElement(\"div\",{className:\"new-element-wrapper\",id:'wrapper:'+id},newE,/*#__PURE__*/React.createElement(\"div\",{style:{display:'none',width:'100%'},id:\"edit-box:\".concat(id),className:\"temporary-elements\"},/*#__PURE__*/React.createElement(\"textarea\",{id:\"text-area:\".concat(id),className:\"web-text-area\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",onClick:function onClick(e){return _this.saveNewText(id);}},\"Save\")),/*#__PURE__*/React.createElement(\"button\",{className:\"badge btn-outline-secondary\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-edit fa-lg temporary-elements\",onClick:function onClick(e){return _this.editText(id);}})),/*#__PURE__*/React.createElement(\"button\",{className:\"badge btn-outline-danger\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-trash fa-lg temporary-elements\",onClick:function onClick(e){return _this.beforeElementDeletion(id);}})));actions.createWebElement(newEWithEditBox);document.querySelector('#new_element').value='none';};_this.beforeElementDeletion=function(id){//to avoid some bugs before deleting an element, we need to ensure that text-area is hidden\ndocument.getElementById('text-area:'+id).style.display!=='none'&&_this.saveNewText(id);actions.deleteWebElement('wrapper:'+id);};_this.addToStyling=function(e){document.getElementById('id').value=e.target.id;Array.from(document.getElementsByClassName('new-element-wrapper')).forEach(function(element){return element.id===\"wrapper:\".concat(e.target.id)?element.style.background='rgba(154, 218, 218, 0.829)':element.style.background='white';});};_this.editText=function(e){document.getElementById('edit-box:'+e).style.display='block';var elementToUpdate=document.getElementById(e);document.getElementById('text-area:'+e).value=elementToUpdate.innerHTML;elementToUpdate.style.display='none';};_this.saveNewText=function(id){document.getElementById(id).style.display='block';actions.updateWebElement({id:'wrapper:'+id,text:document.getElementById('text-area:'+id).value});document.getElementById('edit-box:'+id).style.display='none';};return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){if(!localStorage.getItem('authorization'))console.log('you have not logged in');//this.props.history.push('/login')\n}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"main-container\",id:\"main-container\"},/*#__PURE__*/React.createElement(Header,{onWebPreview:function onWebPreview(){return _this2.webPreview();},onLogout:function onLogout(){return auth.logout(function(){return _this2.props.history.push('/');});},onNewElem:function onNewElem(){return _this2.newElement(document.querySelector('#new_element').value);}}),/*#__PURE__*/React.createElement(Content,null),/*#__PURE__*/React.createElement(Footer,null));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/phillip/Public/react-app/src/components/app/App.js"],"names":["React","Component","Header","Footer","Content","auth","actions","App","newElement","tag","id","Math","random","newE","createElement","className","style","width","onClick","addToStyling","newEWithEditBox","display","e","saveNewText","editText","beforeElementDeletion","createWebElement","document","querySelector","value","getElementById","deleteWebElement","target","Array","from","getElementsByClassName","forEach","element","background","elementToUpdate","innerHTML","updateWebElement","text","localStorage","getItem","console","log","webPreview","logout","props","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\n//import 'font-awesome/css/font-awesome.min.css';\nimport './App.css';\nimport Header from '../header/header';\nimport Footer from '../footer/footer';\nimport Content from '../content/content';\nimport auth from '../authentication/auth';\nimport * as actions from '../../reduxState/actions';\n\nclass App extends Component {\n\n  newElement = (tag) => {\n    if (tag === 'none') return;\n    let id = Math.random();\n\n    let newE = React.createElement(tag, { id: id, className: 'web-element', style: { width: '100%' }, onClick: this.addToStyling }, 'New Element');\n\n    /*Each element will have its own hidden texarea hidden below it \n    and it will be wrapped around a div with className: new-element-wrapper*/\n    let newEWithEditBox =\n      <div className='new-element-wrapper' id={'wrapper:' + id}>\n        {newE}\n        <div style={{ display: 'none', width: '100%' }} id={`edit-box:${id}`} className='temporary-elements'>\n          <textarea id={`text-area:${id}`} className='web-text-area'></textarea>\n          <button className='btn btn-primary btn-sm' onClick={(e) => this.saveNewText(id)}>Save</button>\n        </div>\n        <button className='badge btn-outline-secondary'>\n          <span className='fa fa-edit fa-lg temporary-elements' onClick={(e) => this.editText(id)}></span>\n        </button>\n        <button className='badge btn-outline-danger'>\n          <span className='fa fa-trash fa-lg temporary-elements' onClick={(e) => this.beforeElementDeletion(id)}></span>\n        </button>\n      </div>;\n\n    actions.createWebElement(newEWithEditBox);\n\n    document.querySelector('#new_element').value = 'none';\n  }\n\n  beforeElementDeletion = (id) => {\n    //to avoid some bugs before deleting an element, we need to ensure that text-area is hidden\n    document.getElementById('text-area:' + id).style.display !== 'none' && this.saveNewText(id);\n    actions.deleteWebElement('wrapper:' + id);\n  }\n\n  addToStyling = (e) => {\n    document.getElementById('id').value = e.target.id;\n    Array.from(document.getElementsByClassName('new-element-wrapper')).forEach(element =>\n      element.id === `wrapper:${e.target.id}` ? element.style.background = 'rgba(154, 218, 218, 0.829)' : element.style.background = 'white')\n  }\n\n  editText = (e) => {\n    document.getElementById('edit-box:' + e).style.display = 'block';\n    let elementToUpdate = document.getElementById(e);\n\n    document.getElementById('text-area:' + e).value = elementToUpdate.innerHTML;\n    elementToUpdate.style.display = 'none';\n  }\n  saveNewText = (id) => {\n    document.getElementById(id).style.display = 'block';\n    actions.updateWebElement({ id: 'wrapper:' + id, text: document.getElementById('text-area:' + id).value });\n    document.getElementById('edit-box:' + id).style.display = 'none';\n  }\n  componentWillMount() {\n    if (!(localStorage.getItem('authorization')))\n      console.log('you have not logged in');\n    //this.props.history.push('/login')\n  }\n\n  render() {\n    return (\n      <div className='main-container' id='main-container'>\n        <Header\n          onWebPreview={() => this.webPreview()}\n          onLogout={() => auth.logout(() => this.props.history.push('/'))}\n          onNewElem={() => this.newElement(document.querySelector('#new_element').value)} />\n        <Content />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}