{"ast":null,"code":"var _jsxFileName = \"/home/phillip/Public/react-app/src/components/app/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css'; //import 'font-awesome/css/font-awesome.min.css';\n\nimport './App.css';\nimport Header from '../header/header';\nimport Footer from '../footer/footer';\nimport Content from '../content/content';\nimport auth from '../authentication/auth';\nimport * as actions from '../../reduxState/actions';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.newElement = tag => {\n      if (tag === 'none') return;\n      let id = Math.random();\n\n      if (tag !== video || img) {\n        let newE = React.createElement(tag, {\n          id: id,\n          className: 'web-element',\n          style: {\n            width: '100%'\n          },\n          onClick: this.addToStyling\n        }, 'New Element');\n      } else {\n        let newE = React.createElement(tag, {\n          id: id,\n          className: 'web-element',\n          style: {\n            width: '100%'\n          },\n          onClick: this.addToStyling,\n          src: 'C://test.kkkkkk'\n        }, 'New Element');\n      }\n      /*Each element will have its own hidden texarea hidden below it \n      and it will be wrapped around a div with className: new-element-wrapper*/\n\n\n      let newEWithEditBox = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"new-element-wrapper\",\n        id: 'wrapper:' + id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }\n      }, newE, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'none',\n          width: '100%'\n        },\n        id: `edit-box:${id}`,\n        className: \"temporary-elements\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        id: `text-area:${id}`,\n        className: \"web-text-area\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: e => this.saveNewText(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, \"Save\")), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"badge btn-outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fa fa-edit fa-lg temporary-elements\",\n        onClick: e => this.editText(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"badge btn-outline-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fa fa-trash fa-lg temporary-elements\",\n        onClick: e => this.beforeElementDeletion(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      })));\n      actions.createWebElement(newEWithEditBox);\n      document.querySelector('#new_element').value = 'none';\n    };\n\n    this.beforeElementDeletion = id => {\n      //to avoid some bugs before deleting an element, we need to ensure that text-area is hidden\n      document.getElementById('text-area:' + id).style.display !== 'none' && this.saveNewText(id);\n      actions.deleteWebElement('wrapper:' + id);\n    };\n\n    this.addToStyling = e => {\n      document.getElementById('id').value = e.target.id;\n      Array.from(document.getElementsByClassName('new-element-wrapper')).forEach(element => element.id === `wrapper:${e.target.id}` ? element.style.background = 'rgba(154, 218, 218, 0.829)' : element.style.background = 'white');\n    };\n\n    this.editText = e => {\n      document.getElementById('edit-box:' + e).style.display = 'block';\n      let elementToUpdate = document.getElementById(e);\n      document.getElementById('text-area:' + e).value = elementToUpdate.innerHTML;\n      elementToUpdate.style.display = 'none';\n    };\n\n    this.saveNewText = id => {\n      document.getElementById(id).style.display = 'block';\n      actions.updateWebElement({\n        id: 'wrapper:' + id,\n        text: document.getElementById('text-area:' + id).value\n      });\n      document.getElementById('edit-box:' + id).style.display = 'none';\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('authorization')) this.props.history.push('/login');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-container\",\n      id: \"main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      onWebPreview: () => this.webPreview(),\n      onLogout: () => auth.logout(() => this.props.history.push('/')),\n      onNewElem: () => this.newElement(document.querySelector('#new_element').value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/phillip/Public/react-app/src/components/app/App.js"],"names":["React","Component","Header","Footer","Content","auth","actions","App","newElement","tag","id","Math","random","video","img","newE","createElement","className","style","width","onClick","addToStyling","src","newEWithEditBox","display","e","saveNewText","editText","beforeElementDeletion","createWebElement","document","querySelector","value","getElementById","deleteWebElement","target","Array","from","getElementsByClassName","forEach","element","background","elementToUpdate","innerHTML","updateWebElement","text","componentDidMount","localStorage","getItem","props","history","push","render","webPreview","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\n//import 'font-awesome/css/font-awesome.min.css';\nimport './App.css';\nimport Header from '../header/header';\nimport Footer from '../footer/footer';\nimport Content from '../content/content';\nimport auth from '../authentication/auth';\nimport * as actions from '../../reduxState/actions';\n\nclass App extends Component {\n\n  newElement = (tag) => {\n    if (tag === 'none') return;\n    let id = Math.random();\n\n    if (tag !== video || img) {\n      let newE = React.createElement(tag,\n        {\n          id: id, className: 'web-element',\n          style: { width: '100%' },\n          onClick: this.addToStyling\n        },\n        'New Element');\n    } else {\n      let newE = React.createElement(tag,\n        {\n          id: id,\n          className: 'web-element',\n          style: { width: '100%' },\n          onClick: this.addToStyling,\n          src: 'C://test.kkkkkk'\n        },\n        'New Element');\n    }\n\n    /*Each element will have its own hidden texarea hidden below it \n    and it will be wrapped around a div with className: new-element-wrapper*/\n    let newEWithEditBox =\n      <div className='new-element-wrapper' id={'wrapper:' + id}>\n        {newE}\n        <div style={{ display: 'none', width: '100%' }} id={`edit-box:${id}`} className='temporary-elements'>\n          <textarea id={`text-area:${id}`} className='web-text-area'></textarea>\n          <button className='btn btn-primary btn-sm' onClick={(e) => this.saveNewText(id)}>Save</button>\n        </div>\n        <button className='badge btn-outline-secondary'>\n          <span className='fa fa-edit fa-lg temporary-elements' onClick={(e) => this.editText(id)}></span>\n        </button>\n        <button className='badge btn-outline-danger'>\n          <span className='fa fa-trash fa-lg temporary-elements' onClick={(e) => this.beforeElementDeletion(id)}></span>\n        </button>\n      </div>;\n\n    actions.createWebElement(newEWithEditBox);\n\n    document.querySelector('#new_element').value = 'none';\n  }\n\n  beforeElementDeletion = (id) => {\n    //to avoid some bugs before deleting an element, we need to ensure that text-area is hidden\n    document.getElementById('text-area:' + id).style.display !== 'none' && this.saveNewText(id);\n    actions.deleteWebElement('wrapper:' + id);\n  }\n\n  addToStyling = (e) => {\n    document.getElementById('id').value = e.target.id;\n    Array.from(document.getElementsByClassName('new-element-wrapper')).forEach(element =>\n      element.id === `wrapper:${e.target.id}` ? element.style.background = 'rgba(154, 218, 218, 0.829)' : element.style.background = 'white')\n  }\n\n  editText = (e) => {\n    document.getElementById('edit-box:' + e).style.display = 'block';\n    let elementToUpdate = document.getElementById(e);\n\n    document.getElementById('text-area:' + e).value = elementToUpdate.innerHTML;\n    elementToUpdate.style.display = 'none';\n  }\n  saveNewText = (id) => {\n    document.getElementById(id).style.display = 'block';\n    actions.updateWebElement({ id: 'wrapper:' + id, text: document.getElementById('text-area:' + id).value });\n    document.getElementById('edit-box:' + id).style.display = 'none';\n  }\n  componentDidMount() {\n    if (!(localStorage.getItem('authorization')))\n      this.props.history.push('/login')\n  }\n\n  render() {\n    return (\n      <div className='main-container' id='main-container'>\n        <Header\n          onWebPreview={() => this.webPreview()}\n          onLogout={() => auth.logout(() => this.props.history.push('/'))}\n          onNewElem={() => this.newElement(document.querySelector('#new_element').value)} />\n        <Content />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}