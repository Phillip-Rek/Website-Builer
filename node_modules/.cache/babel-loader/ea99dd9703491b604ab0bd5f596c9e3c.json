{"ast":null,"code":"var _jsxFileName = \"/home/phillip/Public/react-app/src/components/app/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css'; //import 'font-awesome/css/font-awesome.min.css';\n\nimport './App.css';\nimport Header from '../header/header';\nimport Footer from '../footer/footer';\nimport Content from '../content/content';\nimport auth from '../authentication/auth';\nimport * as actions from '../../reduxState/actions';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.newElement = tag => {\n      let newE;\n      let id = Math.random();\n\n      if (tag === 'none') {\n        return;\n      } else if (tag === 'video' || tag === 'img') {\n        newE = React.createElement(tag, {\n          id: id,\n          className: 'web-element',\n          style: {\n            height: 'fit-content'\n          },\n          onClick: this.addToStyling,\n          src: \"file:/home/phillip/Desktop/Chronixx Chronology Tour Kenya show.MP4\"\n        });\n      } else {\n        newE = React.createElement(tag, {\n          id: id,\n          className: 'web-element',\n          style: {\n            width: '100%'\n          },\n          onClick: this.addToStyling\n        }, 'New Element');\n      }\n      /*Each element will have its own hidden texarea hidden below it \n      and it will be wrapped around a div with className: new-element-wrapper*/\n\n\n      let newEWithEditBox = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"new-element-wrapper\",\n        id: 'wrapper:' + id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 7\n        }\n      }, newE, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'none',\n          width: '100%'\n        },\n        id: `edit-box:${id}`,\n        className: \"temporary-elements\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        id: `text-area:${id}`,\n        className: \"web-text-area\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: e => this.saveNewText(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }\n      }, \"Save\")), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"badge btn-outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fa fa-edit fa-lg temporary-elements\",\n        onClick: e => this.editText(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"badge btn-outline-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"fa fa-trash fa-lg temporary-elements\",\n        onClick: e => this.beforeElementDeletion(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }\n      })));\n      actions.createWebElement(newEWithEditBox);\n      document.querySelector('#new_element').value = 'none';\n    };\n\n    this.beforeElementDeletion = id => {\n      //to avoid some bugs before deleting an element, we need to ensure that text-area is hidden\n      document.getElementById('text-area:' + id).style.display !== 'none' && this.saveNewText(id);\n      actions.deleteWebElement('wrapper:' + id);\n    };\n\n    this.addToStyling = e => {\n      document.getElementById('id').value = e.target.id;\n      Array.from(document.getElementsByClassName('new-element-wrapper')).forEach(element => element.id === `wrapper:${e.target.id}` ? element.style.background = 'rgba(154, 218, 218, 0.829)' : element.style.background = 'white');\n    };\n\n    this.editText = e => {\n      document.getElementById('edit-box:' + e).style.display = 'block';\n      let elementToUpdate = document.getElementById(e);\n      document.getElementById('text-area:' + e).value = elementToUpdate.innerHTML;\n      elementToUpdate.style.display = 'none';\n    };\n\n    this.saveNewText = id => {\n      document.getElementById(id).style.display = 'block';\n      actions.updateWebElement({\n        id: 'wrapper:' + id,\n        text: document.getElementById('text-area:' + id).value\n      });\n      document.getElementById('edit-box:' + id).style.display = 'none';\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('authorization')) this.props.history.push('/login');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-container\",\n      id: \"main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      onWebPreview: () => this.webPreview(),\n      onLogout: () => auth.logout(() => this.props.history.push('/')),\n      onNewElem: e => this.newElement(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/phillip/Public/react-app/src/components/app/App.js"],"names":["React","Component","Header","Footer","Content","auth","actions","App","newElement","tag","newE","id","Math","random","createElement","className","style","height","onClick","addToStyling","src","width","newEWithEditBox","display","e","saveNewText","editText","beforeElementDeletion","createWebElement","document","querySelector","value","getElementById","deleteWebElement","target","Array","from","getElementsByClassName","forEach","element","background","elementToUpdate","innerHTML","updateWebElement","text","componentDidMount","localStorage","getItem","props","history","push","render","webPreview","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\n//import 'font-awesome/css/font-awesome.min.css';\nimport './App.css';\nimport Header from '../header/header';\nimport Footer from '../footer/footer';\nimport Content from '../content/content';\nimport auth from '../authentication/auth';\nimport * as actions from '../../reduxState/actions';\n\nclass App extends Component {\n\n  newElement = (tag) => {\n    let newE;\n    let id = Math.random();\n\n    if (tag === 'none') {\n      return;\n    } else if (tag === 'video' || tag === 'img') {\n      newE = React.createElement(tag, { id: id, className: 'web-element', style: { height: 'fit-content' }, onClick: this.addToStyling, src: \"file:/home/phillip/Desktop/Chronixx Chronology Tour Kenya show.MP4\" });\n    } else {\n      newE = React.createElement(tag, { id: id, className: 'web-element', style: { width: '100%' }, onClick: this.addToStyling }, 'New Element');\n    }\n\n    /*Each element will have its own hidden texarea hidden below it \n    and it will be wrapped around a div with className: new-element-wrapper*/\n    let newEWithEditBox =\n      <div className='new-element-wrapper' id={'wrapper:' + id}>\n        {newE}\n        <div style={{ display: 'none', width: '100%' }} id={`edit-box:${id}`} className='temporary-elements'>\n          <textarea id={`text-area:${id}`} className='web-text-area'></textarea>\n          <button className='btn btn-primary btn-sm' onClick={(e) => this.saveNewText(id)}>Save</button>\n        </div>\n        <button className='badge btn-outline-secondary'>\n          <span className='fa fa-edit fa-lg temporary-elements' onClick={(e) => this.editText(id)}></span>\n        </button>\n        <button className='badge btn-outline-danger'>\n          <span className='fa fa-trash fa-lg temporary-elements' onClick={(e) => this.beforeElementDeletion(id)}></span>\n        </button>\n      </div>;\n\n    actions.createWebElement(newEWithEditBox);\n\n    document.querySelector('#new_element').value = 'none';\n  }\n\n  beforeElementDeletion = (id) => {\n    //to avoid some bugs before deleting an element, we need to ensure that text-area is hidden\n    document.getElementById('text-area:' + id).style.display !== 'none' && this.saveNewText(id);\n    actions.deleteWebElement('wrapper:' + id);\n  }\n\n  addToStyling = (e) => {\n    document.getElementById('id').value = e.target.id;\n    Array.from(document.getElementsByClassName('new-element-wrapper')).forEach(element =>\n      element.id === `wrapper:${e.target.id}` ? element.style.background = 'rgba(154, 218, 218, 0.829)' : element.style.background = 'white')\n  }\n\n  editText = (e) => {\n    document.getElementById('edit-box:' + e).style.display = 'block';\n    let elementToUpdate = document.getElementById(e);\n\n    document.getElementById('text-area:' + e).value = elementToUpdate.innerHTML;\n    elementToUpdate.style.display = 'none';\n  }\n  saveNewText = (id) => {\n    document.getElementById(id).style.display = 'block';\n    actions.updateWebElement({ id: 'wrapper:' + id, text: document.getElementById('text-area:' + id).value });\n    document.getElementById('edit-box:' + id).style.display = 'none';\n  }\n  componentDidMount() {\n    if (!(localStorage.getItem('authorization')))\n      this.props.history.push('/login')\n  }\n\n  render() {\n    return (\n      <div className='main-container' id='main-container'>\n        <Header\n          onWebPreview={() => this.webPreview()}\n          onLogout={() => auth.logout(() => this.props.history.push('/'))}\n          onNewElem={(e) => this.newElement(e.target.value)} />\n        <Content />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}